"use strict";var app=angular.module("webApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]);app.factory("Game",["$rootScope",function(a){var b="",c="",d="",e="",f=function(c){var d=function(){c--;var d=Math.floor(3*Math.random())+1;switch(d){case 1:b="Paper_shape_chosen";break;case 2:b="Scissor_shape_chosen";break;case 3:b="Rock_shape_chosen"}0==c&&clearInterval(e);var f={count:c,computerCard:b};a.$emit("countDownObj",f)},e=setInterval(function(){d(c)},1e3);return!0},g=function(a){c=a},h=function(){switch(c){case"Rock_shape_chosen":"Rock_shape_chosen"==b?(d="result_tie",e=0):"Paper_shape_chosen"==b?(d="result_paper_rock",e=-1):"Scissor_shape_chosen"==b&&(d="result_rock_scissor",e=1);break;case"Paper_shape_chosen":"Rock_shape_chosen"==b?(d="result_paper_rock",e=1):"Paper_shape_chosen"==b?(d="result_tie",e=0):"Scissor_shape_chosen"==b&&(d="result_scissor_paper",e=-1);break;case"Scissor_shape_chosen":"Rock_shape_chosen"==b?(d="result_rock_scissor",e=-1):"Paper_shape_chosen"==b?(d="result_scissor_paper",e=1):"Scissor_shape_chosen"==b&&(d="result_tie",e=0)}return{resultVal:e,resultText:d}};return{startCountDown:function(a){return f(a)},calculateResult:function(){return h()},sendUserCard:function(a){return g(a)}}}]),app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/game",{controller:"gameCtrl",templateUrl:"views/game.html"}).otherwise({redirectTo:"/"})}]),angular.module("webApp").controller("MainCtrl",["$scope","$routeParams",function(a,b){a.msg="Welcome page"}]),angular.module("webApp").controller("gameCtrl",["$scope","$rootScope","Game",function(a,b,c){a.msg="Welcome in Game Page",b.countDownObj=null,a.gameStarted=!1,a.showResult=!1,a.userCard="",a.count="",a.computerCard="",a.winsUser=0,a.winsComputer=0,a.ties=0,a.resultVal=null,a.startGame=function(){a.showResult=!1,a.gameStarted=c.startCountDown(5),a.userCard="Rock_shape_chosen",c.sendUserCard("Rock_shape_chosen")},a.selectCard=function(b){a.gameStarted&&(a.userCard=b,c.sendUserCard(b))},b.$on("countDownObj",function(b,d){if(null!=d&&void 0!=d){if(a.count=d.count,a.computerCard=d.computerCard,0==a.count){a.gameStarted=!1;var e=c.calculateResult();a.resultText=e.resultText,a.resultVal=e.resultVal,a.showResult=!0,1==e.resultVal?a.winsUser++:0==e.resultVal?a.ties++:e.resultVal==-1&&a.winsComputer++}a.$digest()}},!0)}]);